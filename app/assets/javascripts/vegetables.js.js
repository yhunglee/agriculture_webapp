// Generated by CoffeeScript 1.10.0
(function() {
  var chart, display_or_not_veggie_list, myJSONObj;

  myJSONObj = JSON.parse(gon.myDataV_json);

  chart = c3.generate({
    bindto: '#chart',
    data: {
      json: myJSONObj,
      keys: {
        x: 'date',
        value: ['total_average_price', 'total_transaction_quantity']
      },
      labels: false,
      axes: {
        total_transaction_quantity: 'y2'
      }
    },
    axis: {
      x: {
        type: 'timeseries',
        tick: {
          format: '%Y-%m-%d'
        }
      },
      y: {
        label: {
          text: 'average price',
          position: 'outer-middle'
        }
      },
      y2: {
        show: true,
        label: {
          text: 'transaction quantity',
          position: 'outer-middle'
        }
      }
    }
  });

  display_or_not_veggie_list = function() {
    var currentDisplayConfig;
    currentDisplayConfig = $('.veggie-list').css('display');
    if (currentDisplayConfig === "none") {
      $('.veggie-list').css('display', 'block');
      $('.btn-submit-veggie-query').css('display', 'block');
      return $('.btn-veggie-list').css('left', '70%');
    } else {
      $('.veggie-list').css('display', 'none');
      $('.btn-submit-veggie-query').css('display', 'none');
      return $('.btn-veggie-list').css('left', '0%');
    }
  };

  $(document).off('click', '.btn-veggie-list').on('click', '.btn-veggie-list', display_or_not_veggie_list);

}).call(this);
